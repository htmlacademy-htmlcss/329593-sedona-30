const buttonWrapper=document.querySelector(".button-wrapper"),formShow=document.querySelector(".form-show"),arrivalDate=formShow.querySelector("#arrival-date-field"),departureDate=formShow.querySelector("#departure-date-field"),adult=formShow.querySelector("#adults-number-field"),child=formShow.querySelector("#child-number-field");let isStorageSupport=!0,storageAdult="",storageChild="";try{storageAdult=localStorage.getItem("adult"),storageChild=localStorage.getItem("child")}catch(e){isStorageSupport=!1}storageAdult&&(adult.value=storageAdult),storageChild&&(child.value=storageChildren),formShow.classList.add("form-show-hidden"),buttonWrapper.addEventListener("click",function(e){e.preventDefault(),formShow.classList.contains("form-show-hidden")?(formShow.classList.remove("form-show-hidden"),arrivalDate.focus()):(formShow.classList.add("form-show-hidden"),formShow.classList.remove("form-show-error"))}),formShow.addEventListener("submit",function(e){arrivalDate.value&&departureDate.value&&adult.value?isStorageSupport&&(localStorage.setItem("adult",adult.value),localStorage.setItem("child",child.value)):(e.preventDefault(),formShow.classList.remove("form-show-error"),formShow.offsetWidth=formShow.offsetWidth,formShow.classList.add("form-show-error"))}),window.addEventListener("keydown",function(e){"Escape"===e.key&&(formShow.classList.contains("form-show-hidden")||(e.preventDefault(),formShow.classList.add("form-show-hidden"),formShow.classList.remove("form-show-error")))});
